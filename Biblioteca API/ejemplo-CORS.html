<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ejemplo CORS</title>
</head>

<body>
  <h1>Prueba CORS Web API biblioteca</h1>
  <button id="fetch">Fetch</button>
  <script>
    const urlWebAPI = "https://localhost:7265/api/autores";
    const header = {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
      }
    }

    const button = document.getElementById("fetch")
    button.addEventListener("click", consumirWebAPI)

    async function consumirWebAPI() {
      try {
        const respuesta = await fetch(urlWebAPI, header);
        const json = await respuesta.text();
        console.log(json);

        const cabeceras = Array.from(respuesta.headers.entries());
        console.log(cabeceras);
      } catch (error) {
        console.log(error);
      }
    }
  </script>
</body>

</html>